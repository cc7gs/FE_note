(self["webpackChunkFE_note"]=self["webpackChunkFE_note"]||[]).push([[8650],{1422:e=>{"use strict";e.exports={}},3859:(e,n,l)=>{"use strict";l.r(n),l.d(n,{default:()=>t});const t={}},6687:(e,n,l)=>{"use strict";l.r(n),l.d(n,{default:()=>a});var t=l(7294),c=l(6584),r=l(2196);l(3859);const a=e=>(t.useEffect((()=>{null!==e&&void 0!==e&&e.location.hash&&c.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),t.createElement(t.Fragment,null,t.createElement("div",{className:"markdown"},t.createElement("h1",{id:"docker-\u662f\u4ec0\u4e48\uff1f"},t.createElement(c.AnchorLink,{to:"#docker-\u662f\u4ec0\u4e48\uff1f","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"docker \u662f\u4ec0\u4e48\uff1f"),t.createElement("p",null,"\u5c5e\u4e8e Linux \u5bb9\u5668\u7684\u4e00\u79cd\u5c01\u88c5\u3002\u4f7f\u7528 go \u8bed\u8a00\u8fdb\u884c\u5f00\u53d1\u5b9e\u73b0\uff0c\u57fa\u4e8e linux \u5185\u6838\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u5c01\u88c5\u9694\u79bb, \u5c5e\u4e8e\u64cd\u4f5c\u7cfb\u7edf\u5c42\u9762\u7684\u865a\u62df\u5316\u6280\u672f\u3002\u56e0\u4e3a\u9694\u79bb\u7684\u8fdb\u7a0b\u72ec\u7acb\u4e8e\u5bbf\u4e3b\u548c\u5176\u5b83\u7684\u9694\u79bb\u8fdb\u7a0b,\u56e0\u6b64\u4e5f\u79f0\u4e3a\u5bb9\u5668\u3002"),t.createElement("blockquote",null,t.createElement("p",null,"Linux \u5bb9\u5668\u4e0d\u662f\u6a21\u62df\u4e00\u4e2a\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u800c\u662f\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u9694\u79bb\uff0c\u6216\u8005\u8bf4\u5728\u6b63\u5e38\u8fdb\u7a0b\u5916\u9762\u5957\u4e86\u4e00\u4e2a\u4fdd\u62a4\u5c42\u3002")),t.createElement("h1",{id:"\u4f18\u52bf"},t.createElement(c.AnchorLink,{to:"#\u4f18\u52bf","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u4f18\u52bf"),t.createElement("ul",null,t.createElement("li",null,"\u66f4\u9ad8\u6548\u5229\u7528\u7cfb\u7edf\u8d44\u6e90"),t.createElement("li",null,"\u542f\u52a8\u5feb\u901f"),t.createElement("li",null,"\u4e00\u81f4\u7684\u8fd0\u884c\u73af\u5883"),t.createElement("li",null,"\u8f7b\u677e\u8fc1\u79fb"),t.createElement("li",null,"\u5bb9\u6613\u6269\u5c55\u4e0e\u7ef4\u62a4"),t.createElement("li",null,"\u6301\u7eed\u90e8\u7f72\u4e0e\u4ea4\u4ed8")),t.createElement("h1",{id:"\u5b89\u88c5"},t.createElement(c.AnchorLink,{to:"#\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u5b89\u88c5"),t.createElement("p",null,t.createElement(c.Link,{to:"https://yeasy.gitbook.io/docker_practice/install"},"https://yeasy.gitbook.io/docker_practice/install")),t.createElement("h1",{id:"\u57fa\u672c\u6982\u5ff5"},t.createElement(c.AnchorLink,{to:"#\u57fa\u672c\u6982\u5ff5","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u6982\u5ff5"),t.createElement("ul",null,t.createElement("li",null,"\u955c\u50cf(images)\uff1a\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u6587\u4ef6\u7cfb\u7edf\u3002\u4e0d\u5305\u542b\u4efb\u4f55\u52a8\u6001\u6570\u636e\uff0c\u5176\u5185\u5bb9\u5728\u6784\u5efa\u77e5\u4e4b\u540e\u4e0d\u4f1a\u5728\u6539\u53d8\u3002"),t.createElement("li",null,"\u5bb9\u5668(containers)\uff1a\u662f\u955c\u50cf\u8fd0\u884c\u7684\u5b9e\u4f53"),t.createElement("li",null,"\u4ed3\u5e93(registry)\uff1a\u662f\u4e00\u4e2a\u96c6\u4e2d\u5b58\u50a8\u548c\u5206\u53d1\u955c\u50cf\u7684\u670d\u52a1\u3002")),t.createElement("h1",{id:"\u57fa\u672c\u64cd\u4f5c"},t.createElement(c.AnchorLink,{to:"#\u57fa\u672c\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u57fa\u672c\u64cd\u4f5c"),t.createElement("h2",{id:"\u955c\u50cf\u64cd\u4f5c"},t.createElement(c.AnchorLink,{to:"#\u955c\u50cf\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u955c\u50cf\u64cd\u4f5c"),t.createElement(r.Z,{code:"# \u5b89\u88c5\u955c\u50cf\n> docker pull  [IMAGE name]\n\n# \u67e5\u770b\u955c\u50cf\n> docker images\n> docker image ls\n\n# \u67e5\u770b \u91cd\u547d\u540d\n> docker tag [IMAGE ID] [name]\n\n# \u67e5\u770b\u955c\u50cf\u4fe1\u606f\n> docker image inspect [IMAGE name]\n> docker inspect [IMAGE name]\n\n# \u67e5\u770b\u955c\u50cf\u64cd\u4f5c\u5386\u53f2\n> docker image history [IMAGE name]\n> docker history [IMAGE name]\n\n# \u955c\u50cf\u5220\u9664\n> docker rmi [IMAGE ID]\n\n# \u955c\u50cf\u5bfc\u51fa\n> docker save -o [name] [IMAGE ID]\n\n# \u5bfc\u51fa\u672c\u5730\u955c\u50cf\n> docker load -i [name]",lang:"zsh"}),t.createElement("blockquote",null,t.createElement("p",null,"\u955c\u50cf ID \u5219\u662f\u955c\u50cf\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u4e00\u4e2a\u955c\u50cf\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a \u6807\u7b7e\uff0c\u4f46\u662f\u4ed6\u4eec\u7684\u955c\u50cf ID \u90fd\u662f\u4e00\u6837\u7684\u3002")),t.createElement("p",null,t.createElement("strong",null,"\u8fd0\u884c")),t.createElement(r.Z,{code:"# \u8fd0\u884c\u955c\u50cf\n> docker run -d -p [\u5bbf\u4e3b\u673a\u7aef\u53e3]:[\u5bb9\u5668\u7aef\u53e3] --name [\u5bbf\u4e3b\u673a\u5bb9\u5668\u540d] [\u5bb9\u5668\u955c\u50cf\u540d]\n\n>  docker run -d -p 3000:80 --name webserver nginx",lang:"zsh"}),t.createElement("ul",null,t.createElement("li",null,"-d:\u8ba9\u5bb9\u5668\u540e\u53f0\u8fd0\u884c(\u4e0d\u963b\u585e\u547d\u4ee4\u884c)"),t.createElement("li",null,"-p \u5c06\u5bb9\u5668 80 \u7aef\u53e3\u6620\u5c04\u5230\u5bbf\u4e3b\u673a 3000 \u7aef\u53e3"),t.createElement("li",null,"--name \u5bbf\u4e3b\u673a\u542f\u52a8\u540e\u5bb9\u5668\u540d\u79f0"),t.createElement("li",null,"nginx \u955c\u50cf\u540d\u79f0")),t.createElement("p",null,"\u672c\u673a\u67e5\u770b\uff1a localhost:3000"),t.createElement(r.Z,{code:"# \u5173\u95ed\u8fd0\u884c\u955c\u50cf\n> docker stop [\u5bb9\u5668\u540d\u79f0/ID]",lang:"zsh"}),t.createElement("p",null,"\u64cd\u4f5c\u793a\u4f8b"),t.createElement(r.Z,{code:"> docker stop webserver\n> docker rm webserver",lang:"zsh"}),t.createElement("h2",{id:"\u5bb9\u5668\u64cd\u4f5c"},t.createElement(c.AnchorLink,{to:"#\u5bb9\u5668\u64cd\u4f5c","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u5bb9\u5668\u64cd\u4f5c"),t.createElement(r.Z,{code:"#  \u67e5\u770b\u6b63\u5728\u8fd0\u884c\u7684\u5bb9\u5668\n> docker ps\n> docker container ps\n\n# \u67e5\u770b\u6240\u6709\u5bb9\u5668\n> docker ps -a\n> docker container ps -a\n\n# \u67e5\u770b\u5f53\u524d\u8fd0\u884c\u5bb9\u5668\u4fe1\u606f\n> docker container ls\n\n# \u67e5\u770b\u6240\u6709\u5bb9\u5668\u4fe1\u606f\n> docker container ls -a\n\n# \u542f\u52a8\u5bb9\u5668\n> docker container start [ID]\n\n# \u8fdb\u5165\u5bb9\u5668\n> docker attach [ID]\n> docker exec -it [ID]\n\n# \u67e5\u770b\u5bb9\u5668\u8f93\u51fa\u4fe1\u606f\n> docker container logs [container ID or NAMES]\n\n# \u7ec8\u6b62\u8fd0\u884c\u7684\u5bb9\u5668\n> docker container stop [ID]\n\n# \u5220\u9664\u4e00\u4e2a\u5904\u4e8e\u7ec8\u6b62\u6001\u7684\u5bb9\u5668\n> docker container rm [name]\n# \u5220\u9664\u6240\u6709\u5904\u4e8e\u7ec8\u6b62\u6001\u7684\u5bb9\u5668\n> docker container prune\n\n# \u6279\u91cf\u5220\u9664\u6240\u6709\u5bb9\u5668\n> docker container stop $(docker ps -a -q)\n> docker container rm $(docker ps -a -q)",lang:"zsh"}),t.createElement("h3",{id:"dockerfile"},t.createElement(c.AnchorLink,{to:"#dockerfile","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"Dockerfile"),t.createElement("blockquote",null,t.createElement("p",null,"\u662f\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u3001\u5176\u5185\u5305\u542b\u4e00\u6761\u6761\u6307\u4ee4\uff0c\u6bcf\u4e00\u6761\u6307\u4ee4\u6784\u5efa\u4e00\u5c42\u5373\u6bcf\u4e00\u6761\u6307\u4ee4\u5185\u5bb9\u63cf\u8ff0\u4e86\u8be5\u5c42\u5982\u4f55\u6784\u5efa\u3002")),t.createElement("p",null,t.createElement("strong",null,"FROM")," \u6307\u5b9a\u57fa\u7840\u955c\u50cf"),t.createElement(r.Z,{code:"FROM nginx",lang:"unknown"}),t.createElement("p",null,t.createElement("strong",null,"RUN")," \u6267\u884c\u547d\u4ee4"),t.createElement("p",null,"\u683c\u5f0f\uff1aRUN <\u547d\u4ee4>"),t.createElement(r.Z,{code:'RUN echo "hello docker" > /usr/share/nginx/html/index.html',lang:"unknown"}),t.createElement("p",null,t.createElement("strong",null,"COPY")),t.createElement("p",null,"\u683c\u5f0f:"),t.createElement("ul",null,t.createElement("li",null,"COPY [--chown=",t.createElement("user",null,":",t.createElement("group",null,"] <\u6e90\u8def\u5f84>... <\u76ee\u6807\u8def\u5f84>"))),t.createElement("li",null,"COPY [--chown=",t.createElement("user",null,":",t.createElement("group",null,'] ["<\u6e90\u8def\u5f84 1>",... "<\u76ee\u6807\u8def\u5f84>"]')))),t.createElement("p",null,"COPY: \u6307\u4ee4\u5c06\u4ece\u6784\u5efa\u4e0a\u4e0b\u6587\u76ee\u5f55\u4e2d<\u6e90\u8def\u5f84>\u7684\u6587\u4ef6/\u76ee\u5f55\u590d\u5236\u5230\u65b0\u4e00\u5c42\u7684\u955c\u50cf\u5185\u7684<\u76ee\u6807\u8def\u5f84>\u4f4d\u7f6e"),t.createElement(r.Z,{code:"COPY nginx",lang:"unknown"}),t.createElement("p",null,t.createElement("strong",null,"ENV")," \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\u683c\u5f0f\u6709\u4e24\u79cd\uff1a"),t.createElement("ul",null,t.createElement("li",null,"ENV ",t.createElement("key",null," ",t.createElement("value",null))),t.createElement("li",null,"ENV ",t.createElement("key1",null,"=",t.createElement("value1",null," ",t.createElement("key2",null,"=",t.createElement("value2",null,"...")))))),t.createElement(r.Z,{code:'ENV VERSION=1.0 \\\n  NAME="Hello Nginx"',lang:"unknown"}),t.createElement("p",null,t.createElement("strong",null,"VOLUME")," \u5b9a\u4e49\u533f\u540d\u5377\u683c\u5f0f\u6709\u4e24\u79cd\uff1a"),t.createElement("ul",null,t.createElement("li",null,'VOLUME ["<\u8def\u5f84 1>", "<\u8def\u5f84 2>"...]'),t.createElement("li",null,"VOLUME <\u8def\u5f84>")),t.createElement(r.Z,{code:"VOLUME /data",lang:"unknown"}),t.createElement("p",null,t.createElement("strong",null,"EXPOSE")," \u66b4\u9732\u7aef\u53e3\u683c\u5f0f\uff1a EXPOSE <\u7aef\u53e3 1>[<\u7aef\u53e3 2>...]"),t.createElement("p",null,t.createElement("strong",null,"WORKDIR")," \u6307\u5b9a\u5de5\u4f5c\u76ee\u5f55"),t.createElement("p",null,"\u683c\u5f0f\uff1a WORKDIR <\u5de5\u4f5c\u76ee\u5f55\u8def\u5f84>"),t.createElement(r.Z,{code:'WORKDIR /app\n\nRUN echo "hello" >word.txt',lang:"unknown"}),t.createElement("p",null,"\u8fdb\u5165 app \u76ee\u5f55\u4e0b\u5c06 hello \u5199\u5165 word \u6587\u4ef6\u3002"),t.createElement("h2",{id:"\u6570\u636e\u6301\u4e45\u5316"},t.createElement(c.AnchorLink,{to:"#\u6570\u636e\u6301\u4e45\u5316","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u6301\u4e45\u5316"),t.createElement("h3",{id:"name-volume-vs-bind-mounts"},t.createElement(c.AnchorLink,{to:"#name-volume-vs-bind-mounts","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"Name Volume vs Bind Mounts"),t.createElement("p",null,"\u7528\u4e8e\u6301\u4e45\u540e\u6570\u636e\u5b58\u50a8 ||Volumes|Bind Mounts| |---|---|---| |\u5b58\u50a8\u4f4d\u7f6e|docker \u63a7\u5236(/var/lib/docker/volumes)|\u81ea\u5df1\u63a7\u5236| |\u6302\u8f7d\u6570\u636e\u5377\u4f7f\u7528(-v)|my-volume:/usr/local/data|/path/to/data:/usr/local/data| |\u5bb9\u5668\u5185\u5bb9|Yes|No| |\u652f\u6301\u9a71\u52a8|Yes|No|"),t.createElement("h3",{id:"volume\u6570\u636e\u5377"},t.createElement(c.AnchorLink,{to:"#volume\u6570\u636e\u5377","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"volume(\u6570\u636e\u5377)"),t.createElement(r.Z,{code:"# \u521b\u5efa\u6570\u636e\u5377\n> docker volume create [VOLUME NAME]\n# \u67e5\u770b\u6240\u6709\u6570\u636e\u5377\n> docker volume ls\n# \u5217\u4e3e\u5177\u4f53\u6570\u636e\u5377\u4fe1\u606f\n> docker volume inspect [VOLUME NAME]\n# \u5220\u9664\u6ca1\u6709\u5f15\u7528\u7684\u6570\u636e\u5377\n> docker volume prune\n# \u8fc7\u6ee4\u6389\u5904\u4e8e\u672a\u4f7f\u7528\u7684\u6570\u636e\u5377\n> docker volume ls -f dangling=true\n# \u5220\u9664\u6307\u5b9a\u540d\u79f0\u7684\u6570\u636e\u5377\n> docker volume rm [VOLUME NAME]",lang:"bash"}),t.createElement("h3",{id:"\u6570\u636e\u5377\u6302\u8f7d\u4f7f\u7528"},t.createElement(c.AnchorLink,{to:"#\u6570\u636e\u5377\u6302\u8f7d\u4f7f\u7528","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u6570\u636e\u5377\u6302\u8f7d\u4f7f\u7528"),t.createElement(r.Z,{code:"# \u6570\u636e\u5377\u4f7f\u7528\n> docker run -dp 3000:80 --name nginx1 -v web_log:/usr/share/nginx/html nginx\n\n# \u5c06\u6570\u636e\u6302\u8f7d\u5230\u6839\u76ee\u5f55/logs\u6587\u4ef6\u4e0b\n> docker run -dp 3000:80 --name nginx1 -v /logs:/usr/share/nginx/html nginx\n\n# \u6307\u5b9a\u5bb9\u5668\u7ee7\u627f\u6570\u636e\u5377\u6620\u5c04\n> docker run --volume-form [CONTAINER NAME] --name [name]",lang:"bash"}),t.createElement("h2",{id:"network"},t.createElement(c.AnchorLink,{to:"#network","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"netWork"),t.createElement("ul",null,t.createElement("li",null,"bridge \u6865\u63a5\u6a21\u5f0f\u53ef\u4ee5\u8bbf\u95ee\u540c\u6bb5\u4e0e\u5bbf\u4e3b\u7f51\u7edc"),t.createElement("li",null,"none \u6ca1\u6709\u7f51\u7edc"),t.createElement("li",null,"host \u516c\u7528\u5bbf\u4e3b IP \u7f51\u7edc")),t.createElement(r.Z,{code:"# \u5217\u4e3e\u6240\u6709\u7f51\u7edc\n> docker network ls\n# \u521b\u5efa\u4e00\u4e2a\u6865\u8282\u6a21\u5f0f\u7f51\u7edc\n> docker network create --driver bridge [NETWORK NAME]\n# \u67e5\u770b\u7f51\u7edc\u4fe1\u606f\n> docker network inspect [NETWORK NAME]\n\n# \u5c06\u5bb9\u5668\u8fde\u63a5\u5230\u7f51\u7edc\n> docker network connect [NETWORK NAME] [CONTAINER ID]",lang:"bash"}),t.createElement("h2",{id:"compose"},t.createElement(c.AnchorLink,{to:"#compose","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"compose"),t.createElement(r.Z,{code:"# \u5217\u4e3e\u6b63\u5728\u8fd0\u884c\u7684compose \u9879\u76ee\n> docker compose ls\n# \u5217\u4e3e\u6240\u6709\u5bb9\u5668\n> docker compose ps\n> docker compose start\n> docker compose stop\n# \u5217\u4e3e\u5f53\u524d\u5bb9\u5668\u8f93\u51fa\u7684\u4fe1\u606f\n> docker compose logs\n# \u521b\u5efa\u5e76\u542f\u52a8\u5bb9\u5668\n> docker compose up\n# \u505c\u6b62\u5e76\u5220\u9664\u5bb9\u5668\u548c\u7f51\u7edc\n> docker compose down\n\n> docker compose create\n> docker compose exec",lang:"bash"}),t.createElement("h1",{id:"\u94fe\u63a5"},t.createElement(c.AnchorLink,{to:"#\u94fe\u63a5","aria-hidden":"true",tabIndex:-1},t.createElement("span",{className:"icon icon-link"})),"\u94fe\u63a5"),t.createElement("p",null,t.createElement(c.Link,{to:"https://yeasy.gitbook.io/docker_practice/"},"docker \u5165\u95e8\u5230\u5b9e\u8df5")))))}}]);