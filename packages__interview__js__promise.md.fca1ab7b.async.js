(self["webpackChunkFE_note"]=self["webpackChunkFE_note"]||[]).push([[5163],{1422:e=>{"use strict";e.exports={}},3859:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>l});const l={}},7215:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>o});var l=t(7294),r=t(6584),s=t(2196);t(3859);const o=e=>(l.useEffect((()=>{null!==e&&void 0!==e&&e.location.hash&&r.AnchorLink.scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),l.createElement(l.Fragment,null,l.createElement("div",{className:"markdown"},l.createElement("blockquote",null,l.createElement("p",null,l.createElement(r.Link,{to:"./code/promise.ts"},"\u6e90\u7801\u5730\u5740"))),l.createElement("h1",{id:"\u4ece\u4e00\u4e2a\u7b80\u5355\u6848\u4f8b\u8bb2\u8d77"},l.createElement(r.AnchorLink,{to:"#\u4ece\u4e00\u4e2a\u7b80\u5355\u6848\u4f8b\u8bb2\u8d77","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u4ece\u4e00\u4e2a\u7b80\u5355\u6848\u4f8b\u8bb2\u8d77"),l.createElement("blockquote",null,l.createElement("p",null,l.createElement(r.Link,{to:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise"},"promise \u57fa\u672c\u6982\u5ff5"))),l.createElement("p",null,"\ud83c\udf30"),l.createElement(s.Z,{code:"console.log('1. start');\nconst promise=new Promise((resolve,reject)=>{\n  console.log('2. enter Executor');\n  resolve('hello promise');\n})\n\npromise.then(res=>{\n  console.log(res,'success');\n  console.log('4. resolve');\n})\n.catch(e=>{\n  console.log(err,'reason')\n});\nconsole.log('3. end');",lang:"ts"}),l.createElement("p",null,"\u4e0b\u9762\u6211\u4eec\u6765\u5206\u6790promise\u57fa\u672c\u7ed3\u6784\u4e0e\u51c6\u5219:"),l.createElement("ol",null,l.createElement("li",null,"\u6784\u9020\u51fd\u6570\u5148\u88ab\u6267\u884c"),l.createElement("li",null,"\u6709\u6210\u529f\u65b9\u6cd5\u3001\u4e0e\u5931\u8d25\u65b9\u6cd5"),l.createElement("li",null,"\u6709then\u65b9\u6cd5"),l.createElement("li",null,"\u6709catch\u65b9\u6cd5")),l.createElement(s.Z,{code:"class MyPromise{\n  private value;\n\n   constructor(executor) {\n        this.value = null;\n        try {\n            executor(this.resolve.bind(this), this.reject.bind(this));\n        } catch (error) {\n            this.reject(error)\n        }\n   }\n   private resolve(value) {}\n   private reject(reason) {}\n   public then(onFulfilled?: Function, onRejected?: Function) {}\n   public catch(errorCallback:Function) {}\n\n}",lang:"ts"}),l.createElement("h2",{id:"promise-\u72b6\u6001"},l.createElement(r.AnchorLink,{to:"#promise-\u72b6\u6001","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"promise \u72b6\u6001"),l.createElement("p",null,l.createElement("img",{src:"https://mdn.mozillademos.org/files/8633/promises.png",alt:""})),l.createElement("ol",null,l.createElement("li",null,"\u53ea\u6709padding \u72b6\u6001\u624d\u53ef\u4ee5\u8f6c\u5316\u81f3\u6210\u529f\u3001\u5931\u8d25\u72b6\u6001\u3002"),l.createElement("li",null,"then\u65b9\u6cd5\u53ef\u4ee5\u8bbf\u95ee\u6210\u529f\u6216\u8005\u5931\u8d25\u65b9\u6cd5")),l.createElement(s.Z,{code:"class MyPromise{\n  \n  private static PENDING = 'pending';\n  private static FULFILLED = 'fulfilled';\n  private static REJECTED = 'rejected';\n  \n  private status;\n\n    constructor(executor){\n      this.value=null;\n      //\u521d\u59cb\u72b6\u6001\u4e3a\u7b49\u5f85\n      this.status=PENDING;\n      //...\n    }\n    private resolve(value) {\n        if (this.status === MyPromise.PENDING) {\n            this.status = MyPromise.FULFILLED;\n            this.value = value;\n        }\n    }\n    private reject(reason) {\n        if (this.status === MyPromise.PENDING) {\n            this.status = MyPromise.REJECTED;\n            this.value = reason;\n        }\n    }\n    then(onFulfilled?: Function, onRejected?: Function) {\n      if (this.status === MyPromise.FULFILLED) {\n          onFulfilled(this.value); \n      }\n      if (this.status === MyPromise.REJECTED) {\n         onRejected(this.value);\n       }\n    }\n}",lang:"ts"}),l.createElement("p",null,"\u5230\u6b64\u4e00\u4e2a\u7b80\u5355Promise\u5df2\u7ecf\u5b9e\u73b0\uff0c\u6536\u5de5\uff5e\u3002\ud83d\udc4b \ud83d\udc4b \ud83d\udc4b"),l.createElement("h1",{id:"\u5b8c\u5584promise"},l.createElement(r.AnchorLink,{to:"#\u5b8c\u5584promise","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u5b8c\u5584promise"),l.createElement("h2",{id:"\u652f\u6301\u5f02\u6b65\u65b9\u6cd5\u8c03\u7528"},l.createElement(r.AnchorLink,{to:"#\u652f\u6301\u5f02\u6b65\u65b9\u6cd5\u8c03\u7528","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u652f\u6301\u5f02\u6b65\u65b9\u6cd5\u8c03\u7528"),l.createElement("p",null,"\ud83c\udf30:"),l.createElement(s.Z,{code:"const promise=new Promise((resolve,reject)=>{\n  setTimeout(()=>{\n    resolve('hello promise');\n  },1000)\n}).then(res=>{\n  console.log(res,'success')\n})",lang:"ts"}),l.createElement(s.Z,{code:"class MyPromise{\n  //...\n  // \u5b58\u653e padding \u72b6\u6001\u56de\u8c03\n  private callbacks: ICallbackItem[];\n  \n  constructor(executor){\n    // ...\n    this.callbacks=[];\n\n  }\n\n  private resolve(value){\n    if (this.status === MyPromise.PENDING) {\n      // ...\n        this.callbacks.map((callback) => {\n          callback.onFulfilled(value)\n        })\n    }\n  }\n\n  private reject(reason){\n    if (this.status === MyPromise.PENDING) {\n      // ...\n      this.callbacks.map(callback => {\n          callback.onRejected(reason);\n      })\n    }\n  }\n then(onFulfilled?: Function, onRejected?: Function) {\n    if (this.status === MyPromise.PENDING) {\n      this.callbacks.push({\n          onFulfilled:value=>{\n              onFulfilled(value)\n          },\n          onRejected:(value)=>{ \n              onRejected(value)\n          }\n      })\n    } \n    // ...\n  }\n}",lang:"ts"}),l.createElement("p",null,"\u7ec6\u5fc3\u5c0f\u4f19\uff0c\u5df2\u7ecf\u53d1\u73b0\u8fd9\u4e0d\u5c31\u662f",l.createElement("code",null,"\u53d1\u5e03\u8ba2\u9605\u6a21\u5f0f"),"\uff5e\uff0c\u604d\u7136\u5927\u609f\u3002\u72d7\u5934\uff09"),l.createElement("h2",{id:"then-\u94fe\u5f0f\u8c03\u7528"},l.createElement(r.AnchorLink,{to:"#then-\u94fe\u5f0f\u8c03\u7528","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"then \u94fe\u5f0f\u8c03\u7528"),l.createElement("p",null,"\ud83c\udf30:"),l.createElement(s.Z,{code:"const promise=new Promise((resolve,reject)=>{\n  setTimeout(()=>{\n    resolve('hello promise');\n  },1000)\n}).then(res=>{\n  console.log(res,'first')\n  return 'name'\n}).then(res=>{\n  console.log('res','second')\n})",lang:"ts"}),l.createElement("ol",null,l.createElement("li",null,"\u5f53\u8fd4\u56de\u503c\u662f\u666e\u901a\u503c\u65f6\u5219\u8c03\u7528\u65b0\u3000promise \u65b9\u6cd5\u3002"),l.createElement("li",null,"\u5f53\u8fd4\u56de\u503c\u662fpromise \u65f6\u5219\u5c06\u6267\u884c\u7ed3\u679c\u8c03\u7528\u65b0 promise\u65b9\u5f0f\u3002")),l.createElement(s.Z,{code:"class MyPromise{\n  // ...\n   then(onFulfilled?: Function, onRejected?: Function) {\n    \n    return new MyPromise((resolve, reject) => {\n        if (this.status === MyPromise.PENDING) {\n          this.callbacks.push({\n              onFulfilled:value=>{\n                const result=onFulfilled(value); \n                if(result instanceof MyPromise){\n                  result.then(resolve,reject)\n                }else{\n                  resolve(result)\n                }\n              },\n              onRejected:(value)=>{\n                const result=onRejected(value);\n                if(result instanceof MyPromise){\n                    result.then(resolve,reject)\n                }else{ \n                    resolve(result)\n                }\n              }\n          })\n        } \n        if (this.status === MyPromise.FULFILLED) {\n\n          /**\n           * @description: \u7b49\u5f85\u5b9e\u4f8b\u521b\u5efa\u5b8c\u6210\u6267\u884c\n           */\n          setTimeout(()=>{\n            const result=onFulfilled(this.value); \n            if(result instanceof MyPromise){\n              result.then(resolve,reject)\n            }else{ \n              resolve(result)\n            };\n          })\n        }\n        if (this.status === MyPromise.REJECTED) {\n          setTimeout(()=>{\n            const result=onRejected(this.value); \n            if(result instanceof MyPromise){\n              result.then(resolve,reject)\n            }else{ \n              resolve(result)\n            };\n          })\n       }\n    })\n   }\n}",lang:"ts"}),l.createElement("p",null,"\u4e0a\u9762\u4ee3\u7801\u6709\u5f88\u591a\u5197\u4f59\u4ee3\u7801,\u63d0\u53d6\u8f6c\u5316\u7248\uff1a"),l.createElement(s.Z,{code:"class MyPromise{\n  // ...\n   then(onFulfilled?: Function, onRejected?: Function) {\n   \n    return new MyPromise((resolve, reject) => {\n        if (this.status === MyPromise.PENDING) {\n          this.callbacks.push({\n              onFulfilled:value=>{\n                this.parse(()=>onFulfilled(value),resolve,reject)\n              },\n              onRejected:(value)=>{\n                this.parse(()=>onRejected(value),resolve,reject) \n              }\n          })\n        } \n        if (this.status === MyPromise.FULFILLED) {\n           setTimeout(()=>{\n             this.parse(()=>onFulfilled(this.value),resolve,reject)\n           })\n        }\n        if (this.status === MyPromise.REJECTED) {\n            setTimeout(()=>{\n              this.parse(()=>onRejected(this.value),resolve,reject)\n            })\n       }\n    })\n   }\n  private parse(resultFn,resolve,reject){\n      try {\n          let result =resultFn();\n          if(result instanceof MyPromise){\n              result.then(resolve,reject)\n          }else{\n              resolve(result)\n          }\n      } catch (error) {\n          reject(error)\n      }\n  }\n}",lang:"ts"}),l.createElement("h2",{id:"then-\u900f\u7a7f"},l.createElement(r.AnchorLink,{to:"#then-\u900f\u7a7f","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"then \u900f\u7a7f"),l.createElement("p",null,"\ud83c\udf30:"),l.createElement(s.Z,{code:"new Promise(resolve=>{\n  resolve(1)\n})\n.then()\n.then(val=>console.log(val))",lang:"ts"}),l.createElement(s.Z,{code:"class MyPromise{\n  // ...\n   then(onFulfilled?: Function, onRejected?: Function) {\n     // \u53c2\u6570\u9ed8\u8ba4\u503c\u5904\u7406\n    if (typeof onFulfilled != 'function') {\n        onFulfilled = () => this.value;\n    }\n    if (typeof onRejected != 'function') {\n        onRejected = () => {throw this.value} \n    }\n    // ...\n   }\n}",lang:"ts"}),l.createElement("h2",{id:"catch-\u5b9e\u73b0"},l.createElement(r.AnchorLink,{to:"#catch-\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"catch \u5b9e\u73b0"),l.createElement("p",null,"\ud83c\udf30:"),l.createElement(s.Z,{code:"new Promise((resolve,reject)=>{\n  resolve(1)\n}).then(res=>{\n  throw 'error'\n})\n.catch(e=>{\n  console.log('x')\n})",lang:"ts"}),l.createElement("p",null,"\u8be5\u51fd\u6570\u7b49\u4ef7\u4e8e\u6ca1\u6709\u6210\u529f\u7684then\u51fd\u6570\uff5e...,\u5177\u4f53\u5b9e\u73b0\u5982\u4e0b\u4ee3\u7801:"),l.createElement(s.Z,{code:"class MyPromise{\n  // ...\n  public catch(errorCallback:Function) {\n    return this.then(null,errorCallback);\n  }\n}",lang:"ts"}),l.createElement("h2",{id:"\u9759\u6001resolve\u4e0ereject\u5b9e\u73b0"},l.createElement(r.AnchorLink,{to:"#\u9759\u6001resolve\u4e0ereject\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9759\u6001resolve\u4e0ereject\u5b9e\u73b0"),l.createElement("p",null,"\ud83c\udf30\uff1a"),l.createElement(s.Z,{code:"Promise\n  .resolve(1)\n  .then(val=>{\n    console.log(val,'value')\n  });\n\nPromise.reject('error')",lang:"ts"}),l.createElement(s.Z,{code:"class MyPromise{\n // ...\n static resolve(value) {\n    return new MyPromise((resolve,reject)=>{\n         if(value instanceof MyPromise){\n             value.then(resolve,reject)\n         }else{\n             resolve(value)\n         }\n     })\n }\n static reject(value) {\n     return new MyPromise((_,reject)=>{\n         reject(reason)\n     })\n }\n}",lang:"ts"}),l.createElement("h2",{id:"finally"},l.createElement(r.AnchorLink,{to:"#finally","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"finally"),l.createElement("p",null,"\u8868\u793a\u8be5\u65b9\u6cd5\u90fd\u4f1a\u88ab\u6267\u884c,\u5f53\u5e76\u4e0d\u662f\u4ee3\u8868\u8be5\u51fd\u6570\u540e\u4e0d\u518d\u6267\u884c\u3002 \u5982\u679c\u8fd4\u56de\u503c\u662fPromise \u5219\u7b49\u5f85\u6267\u884c\u5b8c\u6bd5(\u5982\u679c\u8fd4\u56dereject\u5219\u5c06\u539f\u56e0\u900f\u7a7f\u4e0b\u53bb) \ud83c\udf30:"),l.createElement(s.Z,{code:"new Promise((resolve)=>{\n  resolve(1)\n})\n.finally(()=>{\n  console.log('finally run task')\n})\n.then(val=>{\n  console.log(val)\n})\n.finally(()=>new Promise((_,reject)=>{\n   reject('error')\n}))\n.then(val=>console.log(val))\n.catch(e=>{\n  console.log(e,'reason')\n})",lang:"ts"}),l.createElement(s.Z,{code:"class MyPromise{\n // ...\n  public finally(callback){\n    return this.then(value=>{\n      return MyPromise.resolve(callback()).then(()=>value)\n        },reason=>{\n          return MyPromise.resolve(callback()).then(()=>{throw reason})\n        })\n    }\n}",lang:"ts"}),l.createElement("h2",{id:"\u9759\u6001\u65b9\u6cd5race\u4e0eall\u5b9e\u73b0"},l.createElement(r.AnchorLink,{to:"#\u9759\u6001\u65b9\u6cd5race\u4e0eall\u5b9e\u73b0","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u9759\u6001\u65b9\u6cd5race\u4e0eall\u5b9e\u73b0"),l.createElement("p",null,l.createElement("code",null,"all"),": \u5f53\u6240\u6709\u7ed3\u679c\u90fd\u6210\u529f\u8fd4\u56de\u6210\u529f\u3001\u5982\u5176\u4e2d\u4e00\u4e2a\u5931\u8d25\u5219\u7acb\u5373\u8fd4\u56de\u5931\u8d25\u3002"),l.createElement(s.Z,{code:"class MyPromise{\n\n  static all(promises){\n    let values=[];\n    return new MyPromise((resolve,reject)=>{\n      function processData(val){\n        values.push(val);\n        if(values.length===promises.length){\n          resolve(values)\n        }\n      }\n      promises.forEach(result=>{\n         if (result instanceof MyPromise) {\n                result.then(processData,reject)\n            } else {\n                processData(result)\n            }\n      })\n    })\n  }\n}",lang:"ts"}),l.createElement("p",null,l.createElement("code",null,"race"),": \u8fd4\u56de\u6700\u5feb\u7684\u4e00\u4e2a\u7ed3\u679c\u3002"),l.createElement(s.Z,{code:"class MyPromise{\n  static race(promises){\n    return new MyPromise((resolve, reject) => {\n        promises.forEach(result => {\n            if(result instanceof MyPromise){\n              result.then(resolve, reject)\n            }else{\n              resolve(result)\n            }\n        })\n    })\n  }\n}",lang:"ts"}),l.createElement("h1",{id:"\u5e76\u53d1\u63a7\u5236-p-limit\u4ee3\u7801\u89e3\u6790"},l.createElement(r.AnchorLink,{to:"#\u5e76\u53d1\u63a7\u5236-p-limit\u4ee3\u7801\u89e3\u6790","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"\u5e76\u53d1\u63a7\u5236 p-limit\u4ee3\u7801\u89e3\u6790"),l.createElement("p",null,l.createElement("code",null,"pLimit"),":\u51fd\u6570\u662f\u4e00\u4e2a\u9ad8\u7ea7\u51fd\u6570,\u63a5\u53d7\u6700\u5927\u5e76\u53d1\u6570\u5e76\u8fd4\u56de\u4e00\u4e2a",l.createElement("code",null,"limit"),"\u51fd\u6570\u3002"),l.createElement(s.Z,{code:"const pLimit=()=>limit",lang:"ts"}),l.createElement("p",null,l.createElement("code",null,"limit"),":\u51fd\u6570\u63a5\u53d7\u8981\u6267\u884c\u51fd\u6570\u3001\u4e0e\u53c2\u6570\u8fd4\u56de\u4e00\u4e2a",l.createElement("code",null,"promise"),"\u3002"),l.createElement(s.Z,{code:"const limit=(fn,...args)=>new Promise(...)",lang:"ts"}),l.createElement(s.Z,{code:"const pLimit = (concurrency) => {\n // \u961f\u5217\u6570\u91cf\n  const list = [];\n  // \u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u6570\u91cf\n  let activeCount = 0;\n\n\n  const next = () => {\n    activeCount--;\n\n    if (list.length) {\n      list.shift()()\n    }\n  }\n\n  const run = async (fn, resolve, ...args) => {\n    activeCount++;\n\n    const result = (async () => fn(...args))();\n    resolve(result);\n    \n    try {\n\t\t\tawait result;\n\t\t} catch {}\n    \n    next()\n  }\n\n  const enqueue = (fn, resolve, ...args) => {\n    list.push(run.bind(null, fn, resolve, ...args));\n\n    /**\n     * \u5728\u4e0b\u4e00\u4e2a\u5fae\u4efb\u52a1\u6267\u884c\u524d\u6267\u884c\u3002\n     */\n    (async () => {\n\n      await Promise.resolve();\n\n      if (activeCount < concurrency && list.length) {\n        list.shift()()\n      }\n    })()\n  }\n  const generator = (fn, ...args) => new Promise((resolve) => {\n    enqueue(fn, resolve, ...args)\n  });\n\n  Object.defineProperties(generator, {\n\t\tactiveCount: {\n\t\t\tget: () => activeCount\n\t\t},\n\t\tpendingCount: {\n\t\t\tget: () => list.length\n\t\t},\n\t\tclearQueue: {\n\t\t\tvalue: () => {\n\t\t\t\tlist.length=0\n\t\t\t}\n\t\t}\n  });\n  \n  return generator\n}",lang:"ts"}),l.createElement("p",null,"\u4f7f\u7528"),l.createElement(s.Z,{code:"const limit = pLimit(2);\n\nconst input = [\n  limit((val) => val, 1),\n  limit(() => Promise.resolve(1)),\n  limit(()=>Promise.reject('error'))\n];\nconsole.log(input)\n  (async () => {\n      const result = await Promise.all(input).catch(()=>{});\n      console.log(result,'result');\n  })()",lang:"ts"}),l.createElement("p",null,"\u7531\u4e8e\u6570\u7ec4",l.createElement("code",null,"shift"),"\u65b9\u6cd5\u65f6\u95f4\u590d\u6742\u7684\u662f",l.createElement("strong",null,"o(n)"),",\u4e0d\u9002\u5408\u9891\u7e41\u64cd\u4f5c,\u5728\u6e90\u7801\u4e2d\u662f\u901a\u8fc7\u94fe\u8868\u6765\u5b9e\u73b0\u3002"),l.createElement(s.Z,{code:"class Node{\n  constructor(val){\n    this.value=val;\n    this.tail=null;\n  }\n}\n\nclass Queue{\n  constructor(){\n      this.clear();\n  }\n\n  enqueue(val){\n    const node=new Node(val)\n    \n    if(this.head){\n      this.tail.next=node;\n      this.tail=node;\n    }else{\n      this.head=node;\n      this.tail=node;\n    }\n    this._size++;\n  }\n\n  dequeue(){\n    const current=this.head;\n    if(!current){\n      return \n    }\n    this.head=this.head.next;\n    this._size--;\n    return current.value\n  }\n\n  clear(){\n    this._size=0;\n    this.head=null;\n    this.tail=null;\n  }\n\n  get size(){\n    return this._size;\n  }\n\n  *[Symbol.iterator](){\n    let current=this.head;\n    while(current){\n      yield current.value;\n      current=this.head.next;\n    }\n  }\n}",lang:"ts"}),l.createElement("h1",{id:"generator-co\u5e93\u89e3\u6790"},l.createElement(r.AnchorLink,{to:"#generator-co\u5e93\u89e3\u6790","aria-hidden":"true",tabIndex:-1},l.createElement("span",{className:"icon icon-link"})),"generator co\u5e93\u89e3\u6790"),l.createElement("p",null,"generator \u8bed\u6cd5"),l.createElement(s.Z,{code:"function* read(){\n  const a=yield 1;\n  const b=yield 2;\n  const c=yield 3;\n  console.log(a,b,c,'result');\n  return a+b+c;\n}\nconst it=read();\nconst firstResult=it.next();\nconst secondResult=it.next(firstResult.value);\nconst threeResult=it.next(secondResult.value);\nconst {value}=it.next(threeResult.value);\n\n//value: 6",lang:"ts"}),l.createElement("p",null,"\u624b\u52a8\u8c03\u7528",l.createElement("code",null,"next"),"\u65b9\u6cd5\u8fc7\u4e8e\u7e41\u7410\uff0c\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5c01\u88c5\u4e00\u4e2aco\u65b9\u6cd5\u8fdb\u884c\u5185\u90e8\u8fed\u4ee3\u7528\u6cd5\u5982\u4e0b:"),l.createElement(s.Z,{code:"co(read()).then(result=>{\n  console.log(result,'co result')\n})",lang:"ts"}),l.createElement("p",null,"co\u65b9\u6cd5\u5b9e\u73b0:"),l.createElement(s.Z,{code:"function co(it){\n  return new Promise((resolve,reject)=>{\n    const next=(val)=>{\n      const {value,done}=it.next(val);\n      if(!done){\n        Promise.resolve(value).then(next,reject)\n      }else{\n        resolve(value)\n      }\n    }\n    next();\n  })\n}",lang:"ts"}))))}}]);